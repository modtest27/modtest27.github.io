"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4588],{61402:(e,r,t)=>{t.d(r,{J$:()=>o,ZP:()=>l});var n=t(39133),u=t(63831),i=t(37906);let a=n.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(r=>{e.status="fulfilled",e.value=r},r=>{e.status="rejected",e.reason=r}),e}),s={dedupe:!0},o=i.$l.defineProperty(i.J$,"defaultValue",{value:i.u_}),l=(0,i.s6)((e,r,t)=>{let{cache:o,compare:l,suspense:d,fallbackData:c,revalidateOnMount:f,revalidateIfStale:g,refreshInterval:E,refreshWhenHidden:R,refreshWhenOffline:V,keepPreviousData:h}=t,[T,w,L,_]=i.DY.get(o),[k,C]=(0,i.qC)(e),m=(0,n.useRef)(!1),b=(0,n.useRef)(!1),v=(0,n.useRef)(k),O=(0,n.useRef)(r),p=(0,n.useRef)(t),N=()=>p.current,y=()=>N().isVisible()&&N().isOnline(),[M,S,I,P]=(0,i.JN)(o,k),D=(0,n.useRef)({}).current,j=(0,i.o8)(c)?t.fallback[k]:c;j&&(0,i.y8)(j)&&(j=a(j));let A=(e,r)=>{for(let t in D)if("data"===t){if(!l(e[t],r[t])&&(!(0,i.o8)(e[t])||!l(B,r[t])))return!1}else if(r[t]!==e[t])return!1;return!0},F=(0,n.useMemo)(()=>{let e=!!k&&!!r&&((0,i.o8)(f)?!N().isPaused()&&!d&&(!!(0,i.o8)(g)||g):f),t=r=>{let t=(0,i.PM)(r);return(delete t._k,e)?{isValidating:!0,isLoading:!0,...t}:t},n=M(),u=P(),a=t(n),s=n===u?a:t(u),o=a;return[()=>{let e=t(M());return A(e,o)?(o.data=e.data,o.isLoading=e.isLoading,o.isValidating=e.isValidating,o.error=e.error,o):(o=e,e)},()=>s]},[o,k]),q=(0,u.useSyncExternalStore)((0,n.useCallback)(e=>I(k,(r,t)=>{A(t,r)||e()}),[o,k]),F[0],F[1]),J=!m.current,$=T[k]&&T[k].length>0,U=q.data,W=(0,i.o8)(U)?j:U,x=q.error,Y=(0,n.useRef)(W),B=h?(0,i.o8)(U)?Y.current:U:W,Z=(!$||!!(0,i.o8)(x))&&(J&&!(0,i.o8)(f)?f:!N().isPaused()&&(d?!(0,i.o8)(W)&&g:(0,i.o8)(W)||g)),z=!!(k&&r&&J&&Z),G=(0,i.o8)(q.isValidating)?z:q.isValidating,H=(0,i.o8)(q.isLoading)?z:q.isLoading,K=(0,n.useCallback)(async e=>{let r,n;let u=O.current;if(!k||!u||b.current||N().isPaused())return!1;let a=!0,s=e||{},o=!L[k]||!s.dedupe,d=()=>i.w6?!b.current&&k===v.current&&m.current:k===v.current,c={isValidating:!1,isLoading:!1},f=()=>{S(c)},g=()=>{let e=L[k];e&&e[1]===n&&delete L[k]},E={isValidating:!0};(0,i.o8)(M().data)&&(E.isLoading=!0);try{if(o&&(S(E),t.loadingTimeout&&(0,i.o8)(M().data)&&setTimeout(()=>{a&&d()&&N().onLoadingSlow(k,t)},t.loadingTimeout),L[k]=[u(C),(0,i.u3)()]),[r,n]=L[k],r=await r,o&&setTimeout(g,t.dedupingInterval),!L[k]||L[k][1]!==n)return o&&d()&&N().onDiscarded(k),!1;c.error=i.i_;let e=w[k];if(!(0,i.o8)(e)&&(n<=e[0]||n<=e[1]||0===e[1]))return f(),o&&d()&&N().onDiscarded(k),!1;let s=M().data;c.data=l(s,r)?s:r,o&&d()&&N().onSuccess(r,k,t)}catch(t){g();let e=N(),{shouldRetryOnError:r}=e;!e.isPaused()&&(c.error=t,o&&d()&&(e.onError(t,k,e),(!0===r||(0,i.mf)(r)&&r(t))&&(!N().revalidateOnFocus||!N().revalidateOnReconnect||y())&&e.onErrorRetry(t,k,e,e=>{let r=T[k];r&&r[0]&&r[0](i.sj.ERROR_REVALIDATE_EVENT,e)},{retryCount:(s.retryCount||0)+1,dedupe:!0})))}return a=!1,f(),!0},[k,o]),Q=(0,n.useCallback)((...e)=>(0,i.BN)(o,v.current,...e),[]);if((0,i.LI)(()=>{O.current=r,p.current=t,(0,i.o8)(U)||(Y.current=U)}),(0,i.LI)(()=>{if(!k)return;let e=K.bind(i.i_,s),r=0,t=(0,i.ko)(k,T,(t,n={})=>{if(t==i.sj.FOCUS_EVENT){let t=Date.now();N().revalidateOnFocus&&t>r&&y()&&(r=t+N().focusThrottleInterval,e())}else if(t==i.sj.RECONNECT_EVENT)N().revalidateOnReconnect&&y()&&e();else if(t==i.sj.MUTATE_EVENT)return K();else if(t==i.sj.ERROR_REVALIDATE_EVENT)return K(n)});return b.current=!1,v.current=k,m.current=!0,S({_k:C}),Z&&((0,i.o8)(W)||i.W6?e():(0,i.kw)(e)),()=>{b.current=!0,t()}},[k]),(0,i.LI)(()=>{let e;function r(){let r=(0,i.mf)(E)?E(M().data):E;r&&-1!==e&&(e=setTimeout(t,r))}function t(){!M().error&&(R||N().isVisible())&&(V||N().isOnline())?K(s).then(r):r()}return r(),()=>{e&&(clearTimeout(e),e=-1)}},[E,R,V,k]),(0,n.useDebugValue)(B),d&&(0,i.o8)(W)&&k){if(!i.w6&&i.W6)throw Error("Fallback data is required when using suspense in SSR.");O.current=r,p.current=t,b.current=!1;let e=_[k];if((0,i.o8)(e)||a(Q(e)),(0,i.o8)(x)){let e=K(s);(0,i.o8)(B)||(e.status="fulfilled",e.value=!0),a(e)}else throw x}return{mutate:Q,get data(){return D.data=!0,B},get error(){return D.error=!0,x},get isValidating(){return D.isValidating=!0,G},get isLoading(){return D.isLoading=!0,H}}})},81372:(e,r,t)=>{t.d(r,{Z:()=>c});var n=t(39133),u=t(63831),i=t(37906);let a=n.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(r=>{e.status="fulfilled",e.value=r},r=>{e.status="rejected",e.reason=r}),e}),s={dedupe:!0};i.$l.defineProperty(i.J$,"defaultValue",{value:i.u_});let o=(0,i.s6)((e,r,t)=>{let{cache:o,compare:l,suspense:d,fallbackData:c,revalidateOnMount:f,revalidateIfStale:g,refreshInterval:E,refreshWhenHidden:R,refreshWhenOffline:V,keepPreviousData:h}=t,[T,w,L,_]=i.DY.get(o),[k,C]=(0,i.qC)(e),m=(0,n.useRef)(!1),b=(0,n.useRef)(!1),v=(0,n.useRef)(k),O=(0,n.useRef)(r),p=(0,n.useRef)(t),N=()=>p.current,y=()=>N().isVisible()&&N().isOnline(),[M,S,I,P]=(0,i.JN)(o,k),D=(0,n.useRef)({}).current,j=(0,i.o8)(c)?t.fallback[k]:c;j&&(0,i.y8)(j)&&(j=a(j));let A=(e,r)=>{for(let t in D)if("data"===t){if(!l(e[t],r[t])&&(!(0,i.o8)(e[t])||!l(B,r[t])))return!1}else if(r[t]!==e[t])return!1;return!0},F=(0,n.useMemo)(()=>{let e=!!k&&!!r&&((0,i.o8)(f)?!N().isPaused()&&!d&&(!!(0,i.o8)(g)||g):f),t=r=>{let t=(0,i.PM)(r);return(delete t._k,e)?{isValidating:!0,isLoading:!0,...t}:t},n=M(),u=P(),a=t(n),s=n===u?a:t(u),o=a;return[()=>{let e=t(M());return A(e,o)?(o.data=e.data,o.isLoading=e.isLoading,o.isValidating=e.isValidating,o.error=e.error,o):(o=e,e)},()=>s]},[o,k]),q=(0,u.useSyncExternalStore)((0,n.useCallback)(e=>I(k,(r,t)=>{A(t,r)||e()}),[o,k]),F[0],F[1]),J=!m.current,$=T[k]&&T[k].length>0,U=q.data,W=(0,i.o8)(U)?j:U,x=q.error,Y=(0,n.useRef)(W),B=h?(0,i.o8)(U)?Y.current:U:W,Z=(!$||!!(0,i.o8)(x))&&(J&&!(0,i.o8)(f)?f:!N().isPaused()&&(d?!(0,i.o8)(W)&&g:(0,i.o8)(W)||g)),z=!!(k&&r&&J&&Z),G=(0,i.o8)(q.isValidating)?z:q.isValidating,H=(0,i.o8)(q.isLoading)?z:q.isLoading,K=(0,n.useCallback)(async e=>{let r,n;let u=O.current;if(!k||!u||b.current||N().isPaused())return!1;let a=!0,s=e||{},o=!L[k]||!s.dedupe,d=()=>i.w6?!b.current&&k===v.current&&m.current:k===v.current,c={isValidating:!1,isLoading:!1},f=()=>{S(c)},g=()=>{let e=L[k];e&&e[1]===n&&delete L[k]},E={isValidating:!0};(0,i.o8)(M().data)&&(E.isLoading=!0);try{if(o&&(S(E),t.loadingTimeout&&(0,i.o8)(M().data)&&setTimeout(()=>{a&&d()&&N().onLoadingSlow(k,t)},t.loadingTimeout),L[k]=[u(C),(0,i.u3)()]),[r,n]=L[k],r=await r,o&&setTimeout(g,t.dedupingInterval),!L[k]||L[k][1]!==n)return o&&d()&&N().onDiscarded(k),!1;c.error=i.i_;let e=w[k];if(!(0,i.o8)(e)&&(n<=e[0]||n<=e[1]||0===e[1]))return f(),o&&d()&&N().onDiscarded(k),!1;let s=M().data;c.data=l(s,r)?s:r,o&&d()&&N().onSuccess(r,k,t)}catch(t){g();let e=N(),{shouldRetryOnError:r}=e;!e.isPaused()&&(c.error=t,o&&d()&&(e.onError(t,k,e),(!0===r||(0,i.mf)(r)&&r(t))&&(!N().revalidateOnFocus||!N().revalidateOnReconnect||y())&&e.onErrorRetry(t,k,e,e=>{let r=T[k];r&&r[0]&&r[0](i.sj.ERROR_REVALIDATE_EVENT,e)},{retryCount:(s.retryCount||0)+1,dedupe:!0})))}return a=!1,f(),!0},[k,o]),Q=(0,n.useCallback)((...e)=>(0,i.BN)(o,v.current,...e),[]);if((0,i.LI)(()=>{O.current=r,p.current=t,(0,i.o8)(U)||(Y.current=U)}),(0,i.LI)(()=>{if(!k)return;let e=K.bind(i.i_,s),r=0,t=(0,i.ko)(k,T,(t,n={})=>{if(t==i.sj.FOCUS_EVENT){let t=Date.now();N().revalidateOnFocus&&t>r&&y()&&(r=t+N().focusThrottleInterval,e())}else if(t==i.sj.RECONNECT_EVENT)N().revalidateOnReconnect&&y()&&e();else if(t==i.sj.MUTATE_EVENT)return K();else if(t==i.sj.ERROR_REVALIDATE_EVENT)return K(n)});return b.current=!1,v.current=k,m.current=!0,S({_k:C}),Z&&((0,i.o8)(W)||i.W6?e():(0,i.kw)(e)),()=>{b.current=!0,t()}},[k]),(0,i.LI)(()=>{let e;function r(){let r=(0,i.mf)(E)?E(M().data):E;r&&-1!==e&&(e=setTimeout(t,r))}function t(){!M().error&&(R||N().isVisible())&&(V||N().isOnline())?K(s).then(r):r()}return r(),()=>{e&&(clearTimeout(e),e=-1)}},[E,R,V,k]),(0,n.useDebugValue)(B),d&&(0,i.o8)(W)&&k){if(!i.w6&&i.W6)throw Error("Fallback data is required when using suspense in SSR.");O.current=r,p.current=t,b.current=!1;let e=_[k];if((0,i.o8)(e)||a(Q(e)),(0,i.o8)(x)){let e=K(s);(0,i.o8)(B)||(e.status="fulfilled",e.value=!0),a(e)}else throw x}return{mutate:Q,get data(){return D.data=!0,B},get error(){return D.error=!0,x},get isValidating(){return D.isValidating=!0,G},get isLoading(){return D.isLoading=!0,H}}}),l=i.w6?e=>{e()}:n.startTransition,d=e=>{let[,r]=(0,n.useState)({}),t=(0,n.useRef)(!1),u=(0,n.useRef)(e),a=(0,n.useRef)({data:!1,error:!1,isValidating:!1}),s=(0,n.useCallback)(e=>{let n=!1,i=u.current;for(let r in e)i[r]!==e[r]&&(i[r]=e[r],a.current[r]&&(n=!0));n&&!t.current&&r({})},[]);return(0,i.LI)(()=>(t.current=!1,()=>{t.current=!0})),[u,a.current,s]},c=(0,i.xD)(o,()=>(e,r,t={})=>{let{mutate:u}=(0,i.kY)(),a=(0,n.useRef)(e),s=(0,n.useRef)(r),o=(0,n.useRef)(t),c=(0,n.useRef)(0),[f,g,E]=d({data:i.i_,error:i.i_,isMutating:!1}),R=f.current,V=(0,n.useCallback)(async(e,r)=>{let[t,n]=(0,i.qC)(a.current);if(!s.current)throw Error("Can’t trigger the mutation: missing fetcher.");if(!t)throw Error("Can’t trigger the mutation: missing key.");let d=(0,i.PM)((0,i.PM)({populateCache:!1,throwOnError:!0},o.current),r),f=(0,i.u3)();c.current=f,E({isMutating:!0});try{let r=await u(t,s.current(n,{arg:e}),(0,i.PM)(d,{throwOnError:!0}));return c.current<=f&&(l(()=>E({data:r,isMutating:!1,error:void 0})),null==d.onSuccess||d.onSuccess.call(d,r,t,d)),r}catch(e){if(c.current<=f&&(l(()=>E({error:e,isMutating:!1})),null==d.onError||d.onError.call(d,e,t,d),d.throwOnError))throw e}},[]),h=(0,n.useCallback)(()=>{c.current=(0,i.u3)(),E({data:i.i_,error:i.i_,isMutating:!1})},[]);return(0,i.LI)(()=>{a.current=e,s.current=r,o.current=t}),{trigger:V,reset:h,get data(){return g.data=!0,R.data},get error(){return g.error=!0,R.error},get isMutating(){return g.isMutating=!0,R.isMutating}}})}}]);