(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7138],{69594:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/learn-pages-router/basics/data-fetching/pre-rendering",function(){return r(43767)}])},25928:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var s=r(58589),a=r(51853),n=r.n(a),i=r(10628),o=r(14517);function l(e,t){return c(t.root,e.root)&&c(t.rootMargin,e.rootMargin)&&c(t.threshold,e.thresholds)}function d(e){if(!/^-?\d*\.?\d+(?:px|%)$/.test(e))throw Error("rootMargin must be specified as a CSS margin property")}function c(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length?e.every((r,s)=>c(e[s],t[s])):e===t}r(81324);let p=function(){let e=new Map;function t(t){return e.has(t)?e.get(t):e.set(t,new Map).get(t)}function r(e,r){for(let s of e){let e=t(r).get(s.target);e&&e(s)}}return{getObserver:function(t){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{root:t.root||null,rootMargin:function(e){let t=(e||"0px").trim().split(/\s+/);return t.forEach(d),t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t.join(" ")}(t.rootMargin),threshold:Array.isArray(e=t.threshold)?e:[void 0!==e?e:0]}}(t);for(let t of e.keys())if(l(t,r))return t;return null}(t)||new IntersectionObserver(r,t)},observeTarget:function(e,r,s){t(e).set(r,s),e.observe(r)},unobserveTarget:function(e,r){t(e).delete(r),e.unobserve(r)}}}(),{getObserver:h}=p,{observeTarget:u}=p,{unobserveTarget:m}=p;class x extends i.Component{static #e=this.defaultProps={disabled:!1,once:!1};componentDidMount(){this.observer=h(b(this.props)),this.observe()}UNSAFE_componentWillReceiveProps(e){let t=b(e);l(this.observer,t)||(this.unobserve(),this.observer=h(t),this.shouldReobserve=!0),this.props.disabled&&!e.disabled&&(this.shouldReobserve=!0),!this.props.disabled&&e.disabled&&this.unobserve()}componentDidUpdate(){this.shouldReobserve&&(this.observe(),this.shouldReobserve=!1)}componentWillUnmount(){this.unobserve()}observe(){this.props.disabled||u(this.observer,this.target,this.handleIntersect)}unobserve(){m(this.observer,this.target)}render(){return this.props.render?this.props.render({innerRef:this.handleTarget}):(0,i.cloneElement)(i.Children.only(this.props.children),{ref:this.handleTarget})}constructor(...e){super(...e),this.shouldReobserve=!1,this.handleTarget=e=>{if(null!==e&&"object"==typeof e&&!function(e){return e&&"function"==typeof e.getBoundingClientRect}(e))throw Error("Child did not forward the ref to a DOM element. Did you accidentally pass a class component?");this.target&&this.target!==e&&(this.unobserve(),this.shouldReobserve=!0),this.target=e},this.handleIntersect=e=>{this.props.onIntersect(e,this.props.value),this.props.once&&e.isIntersecting&&this.unobserve()}}}let b=e=>({root:e.root,rootMargin:e.rootMargin,threshold:e.threshold});function g(e){let{videoSrc:t,video:r,renderImage:a,src:n,alt:i}=e;return n?t||r?(0,s.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,src:n}):a?a(e):(0,s.jsx)("img",{alt:i,src:n||null}):null}class f extends i.Component{static #e=this.defaultProps={lazy:!0};render(){let{caption:e,width:t,height:r,margin:a=40,video:i=!1,videoSrc:l,captionSpacing:d=null,renderImage:c,oversize:p=!0,float:h,lazy:u,shadow:m,style:b,...f}=this.props,y=`${String(r/t*100)}%`;return(0,s.jsx)(x,{disabled:!u,onIntersect:this.handleIntersect,once:!0,rootMargin:"20%",children:(0,s.jsxs)("figure",{className:n().dynamic([["622a55e2833827d7",[a,t?`width: ${t}px;`:"",m?"box-shadow: 0 8px 30px rgba(0,0,0,0.12)":"",t,a,a,t,h,a,h]]])+" "+((0,o.W)({oversize:t>650&&p,float:h&&t<520})||""),children:[(0,s.jsxs)("div",{className:n().dynamic([["622a55e2833827d7",[a,t?`width: ${t}px;`:"",m?"box-shadow: 0 8px 30px rgba(0,0,0,0.12)":"",t,a,a,t,h,a,h]]])+" container",children:[(0,s.jsx)("div",{style:{paddingBottom:y,...b},className:n().dynamic([["622a55e2833827d7",[a,t?`width: ${t}px;`:"",m?"box-shadow: 0 8px 30px rgba(0,0,0,0.12)":"",t,a,a,t,h,a,h]]]),children:(0,s.jsx)(g,{alt:f.alt,height:r,renderImage:c,video:i,videoSrc:l,width:t,...f,src:this.state.src})}),e?(0,s.jsx)("figcaption",{style:d?{marginTop:d}:{},className:n().dynamic([["622a55e2833827d7",[a,t?`width: ${t}px;`:"",m?"box-shadow: 0 8px 30px rgba(0,0,0,0.12)":"",t,a,a,t,h,a,h]]]),children:e}):null]}),(0,s.jsx)(n(),{id:"622a55e2833827d7",dynamic:[a,t?`width: ${t}px;`:"",m?"box-shadow: 0 8px 30px rgba(0,0,0,0.12)":"",t,a,a,t,h,a,h],children:`figure.__jsx-style-dynamic-selector{display:block;text-align:center;margin:${a}px 0}.container.__jsx-style-dynamic-selector{margin:0 auto;${t?`width: ${t}px;`:""}                max-width: 100%}@media screen and (max-width:320px){.container.__jsx-style-dynamic-selector{width:100%}}div.__jsx-style-dynamic-selector{-webkit-transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);transform:translate3d(0,0,0);position:relative}figure.__jsx-style-dynamic-selector img,figure.__jsx-style-dynamic-selector video{height:100%;left:0;position:absolute;top:0;width:100%;${m?"box-shadow: 0 8px 30px rgba(0,0,0,0.12)":""}}figcaption.__jsx-style-dynamic-selector{color:#999;font-size:12px;margin:0;text-align:center}@media(min-width:1200px){figure.oversize.__jsx-style-dynamic-selector{width:${t}px;margin:${a}px 0 ${a}px -webkit-calc(((${t}px - 650px) / 2) * -1);margin:${a}px 0 ${a}px -moz-calc(((${t}px - 650px) / 2) * -1);margin:${a}px 0 ${a}px calc(((${t}px - 650px) / 2) * -1)}figure.float.__jsx-style-dynamic-selector{float:${h};margin:${a}px;margin-${h}:-150px}}`})]})})}constructor(...e){super(...e),this.state={src:this.props.lazy?void 0:this.props.videoSrc||this.props.src},this.handleIntersect=e=>{e.isIntersecting&&this.setState({src:this.props.videoSrc||this.props.src})}}}let y=function(e){return(0,s.jsx)(f,{...e,alt:""})}},76988:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var s=r(58589),a=r(51853),n=r.n(a);r(10628);let i=function(e){let{color:t}=e;return(0,s.jsx)("svg",{height:"16",viewBox:"0 0 24 24",width:"16",children:(0,s.jsx)("g",{fill:t||"#111111",children:(0,s.jsx)("path",{d:"M12,0A12,12,0,1,0,24,12,12.035,12.035,0,0,0,12,0Zm4.95,15.536L15.536,16.95,12,13.414,8.464,16.95,7.05,15.536,10.586,12,7.05,8.464,8.464,7.05,12,10.586,15.536,7.05,16.95,8.464,13.414,12Z",fill:t||"#111111"})})})};var o=r(39313),l=r(2072),d=r(24230);function c(e){return(0,s.jsxs)("div",{className:"jsx-dd7ad94e93d3b01d",children:[e.children,(0,s.jsx)(n(),{id:"dd7ad94e93d3b01d",children:"div.jsx-dd7ad94e93d3b01d{background:#fafafa;border:1px solid#eaeaea;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:0 16px 16px 16px;margin-top:2rem;margin-bottom:4rem;counter-reset:answer-list}"})]})}function p(e){let{value:t,onChange:r,selected:a,readOnly:i,children:o}=e;return(0,s.jsxs)("label",{className:n().dynamic([["8b254666bc533ef1",[i?"":"cursor: pointer;"]]])+" "+`f5${i?" disabled":""}`,children:[(0,s.jsx)("input",{defaultChecked:a,disabled:i,name:"answer",onChange:r,type:"radio",value:t,className:n().dynamic([["8b254666bc533ef1",[i?"":"cursor: pointer;"]]])}),(0,s.jsx)("span",{className:n().dynamic([["8b254666bc533ef1",[i?"":"cursor: pointer;"]]]),children:o}),(0,s.jsx)(n(),{id:"8b254666bc533ef1",dynamic:[i?"":"cursor: pointer;"],children:`input.__jsx-style-dynamic-selector{display:none}input.__jsx-style-dynamic-selector:checked+span.__jsx-style-dynamic-selector{color:#111;border-color:#111;-webkit-box-shadow:0 0 0 3px#c1c1c1;-moz-box-shadow:0 0 0 3px#c1c1c1;box-shadow:0 0 0 3px#c1c1c1;font-weight:600}label.__jsx-style-dynamic-selector{display:block;margin:.5rem 0;${i?"":"cursor: pointer;"}}label.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector:before{counter-increment:answer-list;content:counter(answer-list,upper-alpha)". ";display:inline-block;width:1.5rem}span.__jsx-style-dynamic-selector{color:#666;display:block;padding:.5rem 1rem;-webkit-border-radius:7px;-moz-border-radius:7px;border-radius:7px;border:1px solid#666;background:white;-webkit-transition:box-shadow.2s ease;-moz-transition:box-shadow.2s ease;-o-transition:box-shadow.2s ease;transition:box-shadow.2s ease}.disabled.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector+span.__jsx-style-dynamic-selector{border-color:#eaeaea}.disabled.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector:checked+span.__jsx-style-dynamic-selector{color:unset;font-weight:500;background:white;border-color:#111}`})]})}function h(e){let{correct:t,selected:r}=e;return t||r?(0,s.jsxs)("span",{className:"jsx-bebc3d1a0cbd6a11",children:[t?(0,s.jsx)(o.Z,{color:"#0070f3"}):(0,s.jsx)(i,{color:"#e00"}),(0,s.jsx)(n(),{id:"bebc3d1a0cbd6a11",children:"span.jsx-bebc3d1a0cbd6a11{display:inline-block;line-height:1;vertical-align:middle;margin-left:.25rem}"})]}):null}function u(e){let{answer:t,correctAnswer:r}=e;return(0,s.jsxs)(s.Fragment,{children:[void 0!==t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h,{correct:t===r,selected:!0})," "]}),void 0===t?(0,s.jsxs)(s.Fragment,{children:["The correct answer is: ",(0,s.jsx)("strong",{className:"jsx-df362a97111b04e9",children:r})]}):t===r?(0,s.jsxs)("span",{className:"jsx-df362a97111b04e9 correct-message",children:[(0,s.jsx)("strong",{className:"jsx-df362a97111b04e9",children:"Correct."})," Good job!"]}):(0,s.jsxs)("span",{className:"jsx-df362a97111b04e9 incorrect-message",children:[(0,s.jsx)("strong",{className:"jsx-df362a97111b04e9",children:"Incorrect,"})," but nice try!"]}),(0,s.jsx)(n(),{id:"df362a97111b04e9",children:".correct-message.jsx-df362a97111b04e9{color:#0070f3}.incorrect-message.jsx-df362a97111b04e9{color:#e00}"})]})}let m=function(e){let{meta:t,answers:r,correctAnswer:a,children:i}=e,[o,m]=(0,l.a)(t);return(0,s.jsxs)(c,{children:[i,r.map(e=>(0,s.jsxs)(p,{onChange:e=>m({type:"answer",answer:e.target.value}),readOnly:o.submitted,selected:e===o.answer,value:e,children:[e," ",o.submitted?(0,s.jsx)(h,{correct:e===a,selected:e===o.answer}):null]},e)),(0,s.jsxs)("div",{className:"jsx-96319d8491e83c58",children:[o.submitted?(0,s.jsx)(u,{answer:o.answer,correctAnswer:a}):(0,s.jsx)(d.Z,{invert:!0,onClick:()=>{m({type:"submit"}),o.answer===a&&m({type:"check"})},shadowColor:"rgba(0, 0, 0, 0.2)",children:"Submit"}),(0,s.jsx)(n(),{id:"96319d8491e83c58",children:"div.jsx-96319d8491e83c58{margin-top:2rem}"})]})]})}},43767:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,meta:()=>o}),r(10628);var s=r(16942),a=r(18590),n=r(25928),i=r(76988);let o={title:"Pre-rendering and Data Fetching",courseId:"basics",lessonId:"data-fetching",stepId:"pre-rendering",subtitle:"Pre-rendering"},l={meta:o},d=e=>{let{children:t}=e;return(0,s.kt)(a.Z,{meta:o},t)};function c(e){let{components:t,...r}=e;return(0,s.kt)(d,{...l,...r,components:t,mdxType:"MDXLayout"},(0,s.kt)("p",null,"Before we talk about ",(0,s.kt)("a",{parentName:"p",href:"/docs/basic-features/data-fetching"},"data fetching"),`, let’s talk about one of the most important concepts in Next.js: `,(0,s.kt)("a",{parentName:"p",href:"/docs/basic-features/pages#pre-rendering"},(0,s.kt)("strong",{parentName:"a"},"Pre-rendering")),"."),(0,s.kt)("p",null,"By default, Next.js pre-renders every page. This means that Next.js ",(0,s.kt)("em",{parentName:"p"},"generates HTML for each page in advance"),", instead of having it all done by client-side JavaScript. Pre-rendering can result in better performance and ",(0,s.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Search_engine_optimization"},"SEO"),"."),(0,s.kt)("p",null,"Each generated HTML is associated with minimal JavaScript code necessary for that page. When a page is loaded by the browser, its JavaScript code runs and makes the page fully interactive. (This process is called ",(0,s.kt)("strong",{parentName:"p"},"hydration"),".)"),(0,s.kt)("h3",null,"Check That Pre-rendering Is Happening"),(0,s.kt)("p",null,"You can check that pre-rendering is happening by taking the following steps:"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},"Disable JavaScript in your browser. (",(0,s.kt)("a",{parentName:"li",href:"https://developer.chrome.com/docs/devtools/javascript/disable/"},`Here’s how in Chrome`),")."),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("a",{parentName:"li",href:"https://next-learn-starter.vercel.app/"},"Try accessing this page")," (the final result of this tutorial).")),(0,s.kt)("p",null,`You should see that your app is rendered without JavaScript. That’s because Next.js has pre-rendered the app into static HTML, allowing you to see the app UI without running JavaScript.`),(0,s.kt)("blockquote",null,(0,s.kt)("p",{parentName:"blockquote"},(0,s.kt)("strong",{parentName:"p"},"Note"),": You can also try the above steps on ",(0,s.kt)("inlineCode",{parentName:"p"},"localhost"),`, but CSS won’t be loaded if you disable JavaScript.`)),(0,s.kt)("p",null,`If your app is a plain React.js app (without Next.js), there’s no `,(0,s.kt)("a",{parentName:"p",href:"/docs/basic-features/pages#pre-rendering"},"pre-rendering"),`, so you won’t be able to see the app if you disable JavaScript. For example:`),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Enable JavaScript in your browser and ",(0,s.kt)("a",{parentName:"li",href:"https://create-react-template.vercel.app/"},"check out this page"),". This is a plain React.js app built with ",(0,s.kt)("a",{parentName:"li",href:"https://create-react-app.dev/"},"Create React App"),"."),(0,s.kt)("li",{parentName:"ul"},"Now, disable JavaScript and access ",(0,s.kt)("a",{parentName:"li",href:"https://create-react-template.vercel.app/"},"the same page")," again."),(0,s.kt)("li",{parentName:"ul"},`You won’t see the app anymore — instead, it’ll say "You need to enable JavaScript to run this app." This is because the app is not pre-rendered into static HTML.`)),(0,s.kt)("h3",null,"Summary: Pre-rendering vs. No Pre-rendering"),(0,s.kt)("p",null,`Here’s a quick graphical summary:`),(0,s.kt)(n.Z,{shadow:!0,alt:"Pre-rendering",oversize:!1,src:"/static/images/learn/data-fetching/pre-rendering.png",width:693,height:412,mdxType:"Image"}),(0,s.kt)(n.Z,{shadow:!0,alt:"No pre-rendering",oversize:!1,src:"/static/images/learn/data-fetching/no-pre-rendering.png",width:693,height:344,mdxType:"Image"}),(0,s.kt)("p",null,`Next, let’s talk about `,(0,s.kt)("strong",{parentName:"p"},"two forms")," of pre-rendering in Next.js."),(0,s.kt)(i.Z,{meta:o,answers:["Improved SEO","Allows your application to work without JavaScript","Allows your application to only run server-side"],correctAnswer:"Allows your application to only run server-side",mdxType:"AnswerBox"},(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Quick Review"),": Which of the following is ",(0,s.kt)("strong",{parentName:"p"},"not")," a benefit of pre-rendering?")))}c.isMDXComponent=!0}},e=>{var t=t=>e(e.s=t);e.O(0,[27,8746,4371,2878,4730,1324,1067,8590,2888,9774,179],()=>t(69594)),_N_E=e.O()}]);