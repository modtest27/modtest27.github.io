(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4059],{87815:(e,a,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/learn-pages-router/seo/improve/images",function(){return n(11126)}])},21565:(e,a,n)=>{"use strict";n.d(a,{H3:()=>o,H4:()=>r,H5:()=>m});var t=n(58589),s=n(51853),p=n.n(s);function o(e){let{children:a}=e;return(0,t.jsxs)("h3",{className:"jsx-f28bd670423c9152",children:[a,(0,t.jsx)(p(),{id:"f28bd670423c9152",children:"h3.jsx-f28bd670423c9152{font-weight:bold;font-size:18px}h3.jsx-f28bd670423c9152 code{margin-left:6px;margin-right:6px}"})]})}function r(e){let{children:a,isCommand:n}=e;return(0,t.jsxs)("h4",{className:"jsx-b2c93fc58f79b843 "+((n?"command":"")||""),children:[a,(0,t.jsx)(p(),{id:"b2c93fc58f79b843",children:"h4.jsx-b2c93fc58f79b843{font-weight:bold;font-size:16px}.command.jsx-b2c93fc58f79b843{color:#bd10e0;font-family:Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace,serif;font-size:.9em}h4.jsx-b2c93fc58f79b843 code{margin-left:6px;margin-right:6px}"})]})}function m(e){let{children:a}=e;return(0,t.jsxs)("h5",{className:"jsx-ed7f7d0730484ac7",children:[a,(0,t.jsx)(p(),{id:"ed7f7d0730484ac7",children:"h5.jsx-ed7f7d0730484ac7{font-weight:bold;font-size:15px}h5.jsx-ed7f7d0730484ac7 code{margin-left:6px;margin-right:6px}"})]})}},55272:(e,a,n)=>{"use strict";n.d(a,{mj:()=>c});var t=n(58589),s=n(51853),p=n.n(s),o=n(14517),r=n(77400),m=n(43206),i=n.n(m);function c(e){return!e.href.startsWith("/")||e.href.startsWith("/docs")||e.href.startsWith("/api")?e.href.includes("@")||e.href.startsWith("#")?(0,t.jsx)(k,{...e}):(0,t.jsx)(u,{...e}):(0,t.jsx)(l,{...e})}function l(e){let{href:a,as:n="",children:s,error:p=!1,underlineOnHover:m=!0}=e;return(0,t.jsx)(r.r,{as:n,className:(0,o.W)(i().link,{[i().error]:p,[i().hoverUnderline]:m}),href:a,children:s})}function k(e){let{href:a,onClick:n,children:s,underlineOnHover:o=!0}=e;return(0,t.jsxs)("a",{href:a,onClick:n,className:p().dynamic([["66cb3865d5d5c397",[o?"underline":"none"]]]),children:[s,(0,t.jsx)(p(),{id:"66cb3865d5d5c397",dynamic:[o?"underline":"none"],children:`a.__jsx-style-dynamic-selector{text-decoration:none;color:#0070f3;font-size:inherit;cursor:pointer}a.__jsx-style-dynamic-selector:hover{-webkit-text-decoration:${o?"underline":"none"};-moz-text-decoration:${o?"underline":"none"};text-decoration:${o?"underline":"none"}}`})]})}function u(e){let{href:a,children:n}=e;return(0,t.jsxs)("a",{href:a,rel:"noopener noreferrer",target:"_blank",className:"jsx-3da361ed9bbc2b1",children:[n,(0,t.jsx)(p(),{id:"3da361ed9bbc2b1",children:"a.jsx-3da361ed9bbc2b1{text-decoration:none;color:#0070f3;font-size:inherit}a.jsx-3da361ed9bbc2b1:hover{text-decoration:underline}"})]})}},79379:(e,a,n)=>{"use strict";n.d(a,{LI:()=>c,OL:()=>i,UL:()=>m});var t=n(58589),s=n(51853),p=n.n(s),o=n(69480),r=n.n(o);function m(e){let{children:a}=e;return(0,t.jsxs)("ul",{className:"jsx-571896de3ffb79ac",children:[a,(0,t.jsx)(p(),{id:"571896de3ffb79ac",children:'ul.jsx-571896de3ffb79ac{padding:0;list-style-type:none;margin-left:15px}ul.jsx-571896de3ffb79ac>li::before{content:"-";display:inline-block;color:#999;position:absolute;margin-left:-15px}'})]})}function i(e){let{children:a}=e;return(0,t.jsxs)("ol",{className:"jsx-fb2728ad24ced75e",children:[a,(0,t.jsx)(p(),{id:"fb2728ad24ced75e",children:"ol.jsx-fb2728ad24ced75e{padding:0;margin-left:15px}"})]})}function c(e){let{children:a,fontSize:n}=e;return(0,t.jsxs)("li",{className:p().dynamic([["255614beb736b7eb",[n||"14px"]]]),children:[a,(0,t.jsx)(p(),{id:"255614beb736b7eb",dynamic:[n||"14px"],children:`li.__jsx-style-dynamic-selector{${n||"14px"};line-height:24px;margin-bottom:10px}`})]})}m.propTypes={children:r().oneOfType([r().arrayOf(r().node),r().node])},i.propTypes={children:r().oneOfType([r().arrayOf(r().node),r().node])},c.propTypes={children:r().oneOfType([r().arrayOf(r().node),r().node]),fontSize:r().string}},92797:(e,a,n)=>{"use strict";n.d(a,{P:()=>m});var t=n(58589),s=n(51853),p=n.n(s),o=n(69480),r=n.n(o);function m(e){let{className:a="",children:n,large:s,fontSize:o}=e;return(0,t.jsxs)("p",{className:p().dynamic([["e913e368ec7c4317",[o||(s?"18px":"14px")]]])+" "+(a||""),children:[n,(0,t.jsx)(p(),{id:"e913e368ec7c4317",dynamic:[o||(s?"18px":"14px")],children:`p.__jsx-style-dynamic-selector{font-weight:400;font-size:${o||(s?"18px":"14px")};line-height:24px}`})]})}function i(e){let{children:a}=e;return(0,t.jsxs)("span",{className:"jsx-4a4877b22e18241e",children:[a,(0,t.jsx)(p(),{id:"4a4877b22e18241e",children:"span.jsx-4a4877b22e18241e{font-weight:600}"})]})}m.propTypes={className:r().string,large:r().bool,children:r().oneOfType([r().arrayOf(r().node),r().node]),fontSize:r().string},r().oneOfType([r().arrayOf(r().node),r().node]),i.propTypes={children:r().oneOfType([r().arrayOf(r().node),r().node])},r().oneOfType([r().arrayOf(r().node),r().node]),m.B=i},11126:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>k,meta:()=>i}),n(10628);var t=n(16942),s=n(18590),p=n(79379),o=n(21565),r=n(92797),m=n(55272);let i={title:"Improving your Core Web Vitals",courseId:"seo",lessonId:"improve",stepId:"images",subtitle:"Image Component and Automatic Image Optimization"},c={meta:i},l=e=>{let{children:a}=e;return(0,t.kt)(s.Z,{meta:i},a)};function k(e){let{components:a,...n}=e;return(0,t.kt)(l,{...c,...n,components:a,mdxType:"MDXLayout"},(0,t.kt)("h3",null,"Unoptimized Images"),(0,t.kt)(r.P,{fontSize:"16px",mdxType:"P"},"Using regular HTML, we have added our Hero image like so:"),(0,t.kt)("pre",{className:"language-html"},(0,t.kt)("code",{parentName:"pre",className:"language-html"},(0,t.kt)("span",{parentName:"code",className:"token tag"},(0,t.kt)("span",{parentName:"span",className:"token tag"},(0,t.kt)("span",{parentName:"span",className:"token punctuation"},"<"),"img")," ",(0,t.kt)("span",{parentName:"span",className:"token attr-name"},"src"),(0,t.kt)("span",{parentName:"span",className:"token attr-value"},(0,t.kt)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),(0,t.kt)("span",{parentName:"span",className:"token punctuation"},'"'),"large-image.jpg",(0,t.kt)("span",{parentName:"span",className:"token punctuation"},'"'))," ",(0,t.kt)("span",{parentName:"span",className:"token attr-name"},"alt"),(0,t.kt)("span",{parentName:"span",className:"token attr-value"},(0,t.kt)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),(0,t.kt)("span",{parentName:"span",className:"token punctuation"},'"'),"Large Image",(0,t.kt)("span",{parentName:"span",className:"token punctuation"},'"'))," ",(0,t.kt)("span",{parentName:"span",className:"token punctuation"},"/>")),`
`)),(0,t.kt)(r.P,{fontSize:"16px",mdxType:"P"},"However, this means we have to manually optimize a few things like:"),(0,t.kt)(p.UL,{mdxType:"UL"},(0,t.kt)(p.LI,{fontSize:"16px",mdxType:"LI"},"Ensuring our image is responsive on different screen sizes."),(0,t.kt)(p.LI,{fontSize:"16px",mdxType:"LI"},"Optimizing our images with a third-party tool or library."),(0,t.kt)(p.LI,{fontSize:"16px",mdxType:"LI"},"Lazy-loading images as they enter the viewport"),"."),(0,t.kt)("h3",null,"The Image Component"),(0,t.kt)(r.P,{fontSize:"16px",mdxType:"P"},"Next provides a"," ",(0,t.kt)(m.mj,{href:"https://nextjs.org/docs/api-reference/next/image",mdxType:"Link"},"Image component")," ","that can handle these optimizations out-of-the-box for us."),(0,t.kt)(r.P,{fontSize:"16px",mdxType:"P"},(0,t.kt)("code",null,"next/image")," is an extension of the HTML ",(0,t.kt)("code",null,"img")," element, evolved for the modern web."),(0,t.kt)(r.P,{fontSize:"16px",mdxType:"P"},"This means that resizing, optimizing, and serving images in modern formats like WebP (when the browser supports it) can be done automatically using"," ",(0,t.kt)("code",null,"next/image"),"."),(0,t.kt)(r.P,{fontSize:"16px",mdxType:"P"},"The component avoids shipping large images to devices with a smaller viewport and allows Next.js to adopt future image formats and serve those images to browsers that support them."),(0,t.kt)(r.P,{fontSize:"16px",mdxType:"P"},"Automatic Image Optimization works with any image source. Even if the image is hosted by an external data source, like a CMS, it can still be optimized."),(0,t.kt)("h3",null,"How does Automatic Image Optimization Work?"),(0,t.kt)(o.H5,{mdxType:"H5"},"On-demand Optimization"),(0,t.kt)(r.P,{fontSize:"16px",mdxType:"P"},"Instead of optimizing images at build time, Next.js optimizes images on-demand as users request them. Unlike static site generators and static-only solutions, build times don't increase, whether shipping ten images or ten million images."),(0,t.kt)(o.H5,{mdxType:"H5"},"Lazy Loaded Images"),(0,t.kt)(r.P,{fontSize:"16px",mdxType:"P"},"Images are lazy loaded by default. Page speed won't be penalized for images housed outside of the viewport. Images only load when they come into view."),(0,t.kt)(o.H5,{mdxType:"H5"},"Avoids CLS"),(0,t.kt)(r.P,{fontSize:"16px",mdxType:"P"},"Images are always rendered to avoid Cumulative Layout Shift (CLS)."),(0,t.kt)("h3",null,"Using the Image Component"),(0,t.kt)(r.P,{fontSize:"16px",mdxType:"P"},"Let's update the app using ",(0,t.kt)("code",null,"next/image")," to display our hero image. The height and width props should be the desired rendering size, with an aspect ratio identical to the source image."),(0,t.kt)(r.P,{fontSize:"16px",mdxType:"P"},"Open the ",(0,t.kt)("code",null,"pages/index.js")," file and add an import for"," ",(0,t.kt)("code",null,"Image")," from ",(0,t.kt)("code",null,"next/image")," at the beginning of the file:"),(0,t.kt)("pre",{className:"language-jsx"},(0,t.kt)("code",{parentName:"pre",className:"language-jsx"},(0,t.kt)("span",{parentName:"code",className:"token keyword module"},"import")," ",(0,t.kt)("span",{parentName:"code",className:"token imports"},(0,t.kt)("span",{parentName:"span",className:"token maybe-class-name"},"Image"))," ",(0,t.kt)("span",{parentName:"code",className:"token keyword module"},"from")," ",(0,t.kt)("span",{parentName:"code",className:"token string"},"'next/image'"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},";"),`
`)),(0,t.kt)(r.P,{fontSize:"16px",mdxType:"P"},"Then, replace the hero ",(0,t.kt)("code",null,"img")," with the ",(0,t.kt)("code",null,"Image")," component:"),(0,t.kt)("pre",{className:"language-jsx"},(0,t.kt)("code",{parentName:"pre",className:"language-jsx"},(0,t.kt)("span",{parentName:"code",className:"token comment"},"// Before"),`
`,(0,t.kt)("span",{parentName:"code",className:"token tag"},(0,t.kt)("span",{parentName:"span",className:"token tag"},(0,t.kt)("span",{parentName:"span",className:"token punctuation"},"<"),"img")," ",(0,t.kt)("span",{parentName:"span",className:"token attr-name"},"src"),(0,t.kt)("span",{parentName:"span",className:"token attr-value"},(0,t.kt)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),(0,t.kt)("span",{parentName:"span",className:"token punctuation"},'"'),"large-image.jpg",(0,t.kt)("span",{parentName:"span",className:"token punctuation"},'"'))," ",(0,t.kt)("span",{parentName:"span",className:"token attr-name"},"alt"),(0,t.kt)("span",{parentName:"span",className:"token attr-value"},(0,t.kt)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),(0,t.kt)("span",{parentName:"span",className:"token punctuation"},'"'),"Large Image",(0,t.kt)("span",{parentName:"span",className:"token punctuation"},'"'))," ",(0,t.kt)("span",{parentName:"span",className:"token punctuation"},"/>")),`

`,(0,t.kt)("span",{parentName:"code",className:"token comment"},"// After"),`
`,(0,t.kt)("span",{parentName:"code",className:"token tag"},(0,t.kt)("span",{parentName:"span",className:"token tag"},(0,t.kt)("span",{parentName:"span",className:"token punctuation"},"<"),(0,t.kt)("span",{parentName:"span",className:"token class-name"},"Image"))," ",(0,t.kt)("span",{parentName:"span",className:"token attr-name"},"src"),(0,t.kt)("span",{parentName:"span",className:"token attr-value"},(0,t.kt)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),(0,t.kt)("span",{parentName:"span",className:"token punctuation"},'"'),"/large-image.jpg",(0,t.kt)("span",{parentName:"span",className:"token punctuation"},'"'))," ",(0,t.kt)("span",{parentName:"span",className:"token attr-name"},"alt"),(0,t.kt)("span",{parentName:"span",className:"token attr-value"},(0,t.kt)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),(0,t.kt)("span",{parentName:"span",className:"token punctuation"},'"'),"Large Image",(0,t.kt)("span",{parentName:"span",className:"token punctuation"},'"'))," ",(0,t.kt)("span",{parentName:"span",className:"token attr-name"},"width"),(0,t.kt)("span",{parentName:"span",className:"token script language-javascript"},(0,t.kt)("span",{parentName:"span",className:"token script-punctuation punctuation"},"="),(0,t.kt)("span",{parentName:"span",className:"token punctuation"},"{"),(0,t.kt)("span",{parentName:"span",className:"token number"},"3048"),(0,t.kt)("span",{parentName:"span",className:"token punctuation"},"}"))," ",(0,t.kt)("span",{parentName:"span",className:"token attr-name"},"height"),(0,t.kt)("span",{parentName:"span",className:"token script language-javascript"},(0,t.kt)("span",{parentName:"span",className:"token script-punctuation punctuation"},"="),(0,t.kt)("span",{parentName:"span",className:"token punctuation"},"{"),(0,t.kt)("span",{parentName:"span",className:"token number"},"2024"),(0,t.kt)("span",{parentName:"span",className:"token punctuation"},"}"))," ",(0,t.kt)("span",{parentName:"span",className:"token punctuation"},"/>")),`
`)),(0,t.kt)(r.P,{fontSize:"16px",mdxType:"P"},"There's also an image in the footer. Let's replace this as well:"),(0,t.kt)("pre",{className:"language-jsx"},(0,t.kt)("code",{parentName:"pre",className:"language-jsx"},(0,t.kt)("span",{parentName:"code",className:"token comment"},"// Before"),`
`,(0,t.kt)("span",{parentName:"code",className:"token tag"},(0,t.kt)("span",{parentName:"span",className:"token tag"},(0,t.kt)("span",{parentName:"span",className:"token punctuation"},"<"),"img")," ",(0,t.kt)("span",{parentName:"span",className:"token attr-name"},"src"),(0,t.kt)("span",{parentName:"span",className:"token attr-value"},(0,t.kt)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),(0,t.kt)("span",{parentName:"span",className:"token punctuation"},'"'),"/vercel.svg",(0,t.kt)("span",{parentName:"span",className:"token punctuation"},'"'))," ",(0,t.kt)("span",{parentName:"span",className:"token attr-name"},"alt"),(0,t.kt)("span",{parentName:"span",className:"token attr-value"},(0,t.kt)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),(0,t.kt)("span",{parentName:"span",className:"token punctuation"},'"'),"Vercel Logo",(0,t.kt)("span",{parentName:"span",className:"token punctuation"},'"'))," ",(0,t.kt)("span",{parentName:"span",className:"token punctuation"},"/>")),`

`,(0,t.kt)("span",{parentName:"code",className:"token comment"},"// After"),`
`,(0,t.kt)("span",{parentName:"code",className:"token tag"},(0,t.kt)("span",{parentName:"span",className:"token tag"},(0,t.kt)("span",{parentName:"span",className:"token punctuation"},"<"),(0,t.kt)("span",{parentName:"span",className:"token class-name"},"Image"))," ",(0,t.kt)("span",{parentName:"span",className:"token attr-name"},"src"),(0,t.kt)("span",{parentName:"span",className:"token attr-value"},(0,t.kt)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),(0,t.kt)("span",{parentName:"span",className:"token punctuation"},'"'),"/vercel.svg",(0,t.kt)("span",{parentName:"span",className:"token punctuation"},'"'))," ",(0,t.kt)("span",{parentName:"span",className:"token attr-name"},"alt"),(0,t.kt)("span",{parentName:"span",className:"token attr-value"},(0,t.kt)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),(0,t.kt)("span",{parentName:"span",className:"token punctuation"},'"'),"Vercel Logo",(0,t.kt)("span",{parentName:"span",className:"token punctuation"},'"'))," ",(0,t.kt)("span",{parentName:"span",className:"token attr-name"},"width"),(0,t.kt)("span",{parentName:"span",className:"token script language-javascript"},(0,t.kt)("span",{parentName:"span",className:"token script-punctuation punctuation"},"="),(0,t.kt)("span",{parentName:"span",className:"token punctuation"},"{"),(0,t.kt)("span",{parentName:"span",className:"token number"},"72"),(0,t.kt)("span",{parentName:"span",className:"token punctuation"},"}"))," ",(0,t.kt)("span",{parentName:"span",className:"token attr-name"},"height"),(0,t.kt)("span",{parentName:"span",className:"token script language-javascript"},(0,t.kt)("span",{parentName:"span",className:"token script-punctuation punctuation"},"="),(0,t.kt)("span",{parentName:"span",className:"token punctuation"},"{"),(0,t.kt)("span",{parentName:"span",className:"token number"},"16"),(0,t.kt)("span",{parentName:"span",className:"token punctuation"},"}"))," ",(0,t.kt)("span",{parentName:"span",className:"token punctuation"},"/>")),`
`)),(0,t.kt)(r.P,{fontSize:"16px",mdxType:"P"},"Finally, run another Lighthouse report in Chrome DevTools and compare your results."),(0,t.kt)("br",null),(0,t.kt)("div",{style:{width:"100%",padding:"30px 20px",borderRadius:"10px",background:"#F3F3F3"}},(0,t.kt)(o.H3,{mdxType:"H3"},"Further Reading"),(0,t.kt)(p.UL,{mdxType:"UL"},(0,t.kt)(p.LI,{fontSize:"16px",mdxType:"LI"},(0,t.kt)("span",null,"Next.js:  "),(0,t.kt)(m.mj,{href:"/docs/basic-features/image-optimization",mdxType:"Link"},"Automatic Image Optimization Documentation")),(0,t.kt)(p.LI,{fontSize:"16px",mdxType:"LI"},(0,t.kt)("span",null,"Next.js:  "),(0,t.kt)(m.mj,{href:"/docs/api-reference/next/image",mdxType:"Link"},"API Reference for ",(0,t.kt)("code",null,"next/image"))))))}k.isMDXComponent=!0},43206:e=>{e.exports={link:"link_link__URfhR",error:"link_error__N26vQ",hoverUnderline:"link_hoverUnderline__BVku1"}}},e=>{var a=a=>e(e.s=a);e.O(0,[27,8746,4371,2878,4730,1067,8590,2888,9774,179],()=>a(87815)),_N_E=e.O()}]);