class MiniCart extends HTMLElement{constructor(){super(),this.drawer=document.querySelector("cart-drawer"),new IntersectionObserver(this.handleIntersection.bind(this)).observe(this)}handleIntersection(entries,observer){entries[0].isIntersecting&&(observer.unobserve(this),fetch(this.dataset.url).then(response=>response.text()).then(html=>{document.getElementById("mini-cart").innerHTML=this.getSectionInnerHTML(html,".shopify-section")}).catch(e=>{console.error(e)}))}open(){if(this.drawer.querySelector("details").hasAttribute("open"))return;this.drawer.querySelector("summary").click(),setTimeout(()=>{setHeaderHeight()},250)}renderContents(parsedState){this.productId=parsedState.id,this.getSectionsToRender().forEach(section=>{document.getElementById(section.id).innerHTML=this.getSectionInnerHTML(parsedState.sections[section.id],section.selector)}),this.header&&this.header.reveal(),this.open()}getSectionsToRender(){return[{id:"mini-cart",section:"mini-cart",selector:".shopify-section"},{id:"cart-icon-bubble",section:"cart-icon-bubble",selector:".shopify-section"}]}getSectionInnerHTML(html,selector=".shopify-section"){return new DOMParser().parseFromString(html,"text/html").querySelector(selector).innerHTML}}customElements.define("mini-cart",MiniCart);
//# sourceMappingURL=/cdn/shop/t/18/assets/cart-drawer.js.map?v=38554879236352165091668583671
